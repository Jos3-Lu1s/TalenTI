import{a as g,r as u,u as p,j as e,H as j,L as o}from"./app-CE1oh07d.js";import{I as f}from"./InputError-Bj43JZo9.js";import{I as N}from"./InputLabel-CKiR_OQz.js";import{P as b}from"./PrimaryButton-JkUjLuQB.js";import{A as v}from"./AuthenticatedLayout-BCMnngWi.js";import{s as y}from"./toast-CktstyfK.js";import"./ApplicationLogo-CjuZsKFn.js";import"./transition-34sY8xxk.js";function _({vacante:s}){const a=g().props.auth.user,[r,i]=u.useState(""),{data:w,setData:c,post:n,processing:A,errors:m,reset:d}=p({cv:null,vacante_id:s?.id??null}),x=t=>{const l=t.target.files[0];l&&(c("cv",l),i(l.name))},h=t=>{t.preventDefault(),n(route("candidatos_store"),{onSuccess:()=>{d("cv"),i(""),y("¡Postulación exitosa! - Notificación enviada al reclutador.")}})};return e.jsxs(v,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:s.titulo}),children:[e.jsx(j,{title:s.titulo}),e.jsx("div",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 p-8",children:[e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:s.titulo}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg",children:s.descripcion}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"sm:items-center",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Empresa:"}),e.jsx("p",{className:"ml-0 sm:ml-2 text-gray-600",children:s.empresa})]}),e.jsxs("div",{className:"sm:items-center",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Último Día para Aplicar:"}),e.jsx("p",{className:"ml-0 sm:ml-2 text-gray-600",children:s.ultimo_dia})]}),e.jsxs("div",{className:"sm:items-center",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Categoría:"}),e.jsx("p",{className:"ml-0 sm:ml-2 text-gray-600",children:s.categoria.categoria})]}),e.jsxs("div",{className:"sm:items-center",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Salario:"}),e.jsx("p",{className:"ml-0 sm:ml-2 text-gray-600",children:s.salario.salario})]})]})]}),a&&a.rol===1&&e.jsxs("form",{noValidate:!0,onSubmit:h,className:"bg-white p-6 rounded-lg shadow-lg space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800",children:"Sube tu CV"}),e.jsxs("div",{className:"flex justify-center items-center bg-gray-100 p-4 rounded-md border-2 border-dashed border-gray-300 hover:border-blue-500 transition",children:[e.jsxs(N,{htmlFor:"cv",className:"cursor-pointer flex items-center gap-2 text-lg text-gray-600 hover:text-blue-600",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),e.jsx("span",{className:"font-medium",children:"Haz clic para subir"})]}),e.jsx("input",{id:"cv",name:"cv",type:"file",className:"hidden",accept:"application/pdf",onChange:x})]}),r&&e.jsxs("div",{className:"text-sm text-gray-700 mt-2",children:[e.jsx("strong",{children:"Archivo seleccionado:"})," ",r]}),!r&&e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Aún no has cargado un CV. Por favor, haz clic en el área de arriba para subirlo."}),e.jsx(f,{message:m.cv,className:"mt-2"}),e.jsx("div",{children:e.jsx(b,{className:"w-full px-6 py-3",children:"Postúlate Ahora"})})]}),!a&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-700 text-lg",children:["¿Deseas postularte a esta vacante?"," ",e.jsx(o,{href:route("login"),className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors duration-200",children:"Inicia sesión"})," ","o"," ",e.jsx(o,{href:route("register"),className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors duration-200",children:"Regístrate"})]})})]}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("img",{src:`/storage/vacantes/${s.imagen}`,alt:"Imagen de vacante",className:"w-full h-auto rounded-md shadow-sm max-w-md",onError:t=>{t.target.onerror=null,t.target.src="/storage/img/default.png"}})})]})})})})]})}export{_ as default};
