import{u as w,r as x,j as e,H as y}from"./app-CyBYZiT2.js";import{I as r}from"./InputError-CDlcX9iM.js";import{I as i}from"./InputLabel-D2FfADeK.js";import{P as C}from"./PrimaryButton-DRSHS2b9.js";import{T as d}from"./TextInput-BNPfeoKX.js";import{A as I}from"./AuthenticatedLayout-9RAHXIx1.js";import{s as g}from"./toast-CktstyfK.js";import"./ApplicationLogo-BB8sNyFS.js";import"./transition-tWE8qSSm.js";function U({salarios:p,categorias:h}){const{data:s,setData:l,post:j,processing:v,errors:t,reset:D}=w({titulo:"",salario:"",categoria:"",empresa:"",ultimo_dia:"",descripcion:"",imagen:""}),[m,f]=x.useState(""),[c,u]=x.useState(null),N=a=>{const o=a.target.files[0];if(o){if(!["image/jpeg","image/png","image/gif"].includes(o.type)){g("Solo se permiten im치genes de tipo JPEG, PNG o GIF.","error","#f27474");return}if(o.size>5*1024*1024){g("El tama침o de la imagen debe ser menor a 5MB.","error","#f27474");return}l("imagen",o),f(o.name);const n=new FileReader;n.onloadend=()=>u(n.result),n.readAsDataURL(o)}else u(null)},b=a=>{a.preventDefault(),console.log(s),j(route("vacantes_store"),{onFinish:()=>{console.log("Listo")}})};return e.jsxs(I,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Crear vacante"}),children:[e.jsx(y,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white sm:rounded-lg",children:e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:m-10",noValidate:!0,children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 border-b pb-2",children:"Informaci칩n General"}),e.jsxs("div",{children:[e.jsx(i,{value:"T칤tulo de la vacante"}),e.jsx(d,{className:"mt-1 w-full",placeholder:"Ej: Dise침ador UI/UX",value:s.titulo,onChange:a=>l("titulo",a.target.value)}),e.jsx(r,{message:t.titulo,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Empresa"}),e.jsx(d,{className:"mt-1 w-full",placeholder:"Nombre de la empresa",value:s.empresa,onChange:a=>l("empresa",a.target.value)}),e.jsx(r,{message:t.empresa,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"칔ltimo d칤a"}),e.jsx(d,{type:"date",className:"mt-1 w-full",value:s.ultimo_dia,onChange:a=>l("ultimo_dia",a.target.value)}),e.jsx(r,{message:t.ultimo_dia,className:"mt-2"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 border-b pb-2",children:"Detalles del puesto"}),e.jsxs("div",{children:[e.jsx(i,{value:"Salario"}),e.jsxs("select",{className:"w-full mt-1 rounded-md border-gray-300",value:s.salario,onChange:a=>l("salario",a.target.value),children:[e.jsx("option",{value:"",children:"-- Seleccione --"}),p.map(a=>e.jsx("option",{value:a.id,children:a.salario},a.id))]}),e.jsx(r,{message:t.salario,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Categor칤a"}),e.jsxs("select",{className:"w-full mt-1 rounded-md border-gray-300",value:s.categoria,onChange:a=>l("categoria",a.target.value),children:[e.jsx("option",{value:"",children:"-- Seleccione --"}),h.map(a=>e.jsx("option",{value:a.id,children:a.categoria},a.id))]}),e.jsx(r,{message:t.categoria,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Descripci칩n"}),e.jsx("textarea",{className:"mt-1 w-full h-40 border-gray-300 rounded-md",placeholder:"Describe el puesto...",value:s.descripcion,onChange:a=>l("descripcion",a.target.value)}),e.jsx(r,{message:t.descripcion,className:"mt-2"})]}),e.jsx(C,{className:"w-full",disabled:v,children:"Guardar Vacante"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{value:"Imagen"}),e.jsxs("div",{className:"mt-1 space-y-2",children:[e.jsx("label",{htmlFor:"imagen",className:"cursor-pointer flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 transition",children:"游늬 Subir imagen"}),e.jsx("input",{id:"imagen",type:"file",className:"hidden",onChange:N}),m&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Archivo seleccionado:"," ",e.jsx("span",{className:"font-medium",children:m})]})]}),e.jsx(r,{message:t.imagen,className:"mt-2"})]}),e.jsx("div",{children:c?e.jsx("img",{src:c,alt:"Vista previa de la imagen",className:"object-cover rounded-lg mt-4"}):e.jsx("p",{className:"text-gray-600 text-sm",children:"No se ha seleccionado imagen"})})]})]})})})})]})}export{U as default};
