import{u as y,r as n,j as e,H as w}from"./app-CE1oh07d.js";import{I as r}from"./InputError-Bj43JZo9.js";import{I as o}from"./InputLabel-CKiR_OQz.js";import{T as c}from"./TextInput-DW2-D2Al.js";import{P as I}from"./PrimaryButton-JkUjLuQB.js";import{A as E}from"./AuthenticatedLayout-BCMnngWi.js";import"./ApplicationLogo-CjuZsKFn.js";import"./transition-34sY8xxk.js";function V({vacante:s,salarios:p,categorias:h}){const{data:l,setData:i,post:j,processing:v,errors:t,reset:_}=y({titulo:"",salario:"",categoria:"",empresa:"",ultimo_dia:"",descripcion:"",imagen:""});n.useEffect(()=>{s&&i({titulo:s.titulo,salario:s.salario_id,categoria:s.categoria_id,empresa:s.empresa,ultimo_dia:s.ultimo_dia,descripcion:s.descripcion,imagen:s.imagen})},[s]);const[u,f]=n.useState(""),[g,x]=n.useState(null),N=a=>{const d=a.target.files[0];if(d){if(!["image/jpeg","image/png","image/gif"].includes(d.type)){alert("Solo se permiten im치genes de tipo JPEG, PNG o GIF.");return}if(d.size>5*1024*1024){alert("El tama침o de la imagen debe ser menor a 5MB.");return}i("imagen",d),f(d.name);const m=new FileReader;m.onloadend=()=>x(m.result),m.readAsDataURL(d)}else x(null)},b=a=>{a.preventDefault(),console.log(l),j(route("vacantes_update",s.id),{onFinish:()=>{console.log("Listo")}})};return e.jsxs(E,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Vacantes de Trabajo en TI"}),children:[e.jsx(w,{title:`Editar ${l.titulo}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white sm:rounded-lg",children:e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:m-10",noValidate:!0,children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 border-b pb-2",children:"Informaci칩n General"}),e.jsxs("div",{children:[e.jsx(o,{value:"T칤tulo de la vacante"}),e.jsx(c,{className:"mt-1 w-full",placeholder:"Ej: Dise침ador UI/UX",value:l.titulo,onChange:a=>i("titulo",a.target.value)}),e.jsx(r,{message:t.titulo,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Empresa"}),e.jsx(c,{className:"mt-1 w-full",placeholder:"Nombre de la empresa",value:l.empresa,onChange:a=>i("empresa",a.target.value)}),e.jsx(r,{message:t.empresa,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{value:"칔ltimo d칤a"}),e.jsx(c,{type:"date",className:"mt-1 w-full",value:l.ultimo_dia,onChange:a=>i("ultimo_dia",a.target.value)}),e.jsx(r,{message:t.ultimo_dia,className:"mt-2"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 border-b pb-2",children:"Detalles del puesto"}),e.jsxs("div",{children:[e.jsx(o,{value:"Salario"}),e.jsxs("select",{className:"w-full mt-1 rounded-md border-gray-300",value:l.salario,onChange:a=>i("salario",a.target.value),children:[e.jsx("option",{value:"",children:"-- Seleccione --"}),p.map(a=>e.jsx("option",{value:a.id,children:a.salario},a.id))]}),e.jsx(r,{message:t.salario,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Categor칤a"}),e.jsxs("select",{className:"w-full mt-1 rounded-md border-gray-300",value:l.categoria,onChange:a=>i("categoria",a.target.value),children:[e.jsx("option",{value:"",children:"-- Seleccione --"}),h.map(a=>e.jsx("option",{value:a.id,children:a.categoria},a.id))]}),e.jsx(r,{message:t.categoria,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Descripci칩n"}),e.jsx("textarea",{className:"mt-1 w-full h-40 border-gray-300 rounded-md",placeholder:"Describe el puesto...",value:l.descripcion,onChange:a=>i("descripcion",a.target.value)}),e.jsx(r,{message:t.descripcion,className:"mt-2"})]}),e.jsx(I,{disabled:v,className:"w-full",children:"Editar Vacante"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Imagen"}),e.jsxs("div",{className:"mt-1 space-y-2",children:[e.jsx("label",{htmlFor:"imagen",className:"cursor-pointer flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 transition",children:"游늬 Subir imagen"}),e.jsx("input",{id:"imagen",type:"file",className:"hidden",onChange:N}),u&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Archivo seleccionado:"," ",e.jsx("span",{className:"font-medium",children:u})]})]}),e.jsx(r,{message:t.imagen,className:"mt-2"})]}),e.jsx("div",{children:g?e.jsx("img",{src:g,alt:"Vista previa de la imagen",className:"object-cover rounded-lg mt-4"}):e.jsx("div",{children:s&&s.imagen?e.jsx("img",{src:`/storage/vacantes/${s.imagen}`,alt:"Imagen de vacante",className:"w-full h-auto object-cover rounded-lg"}):e.jsx("p",{className:"text-gray-600 text-sm",children:"No hay imagen disponible"})})})]})]})})})})]})}export{V as default};
